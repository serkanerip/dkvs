version: "3.9"
services:
#  master:
#    hostname: master_dkvs
#    build:
#      context: .
#      dockerfile: Dockerfile
#    networks:
#      - app-network
#    ports:
#      - "6050:6050"
#    depends_on:
#      - etcd
#    environment:
#      - MEMBER=""
#      - CLIENT_PORT=6050
#      - CLUSTER_PORT=6060
#      - ETCD_ADDR="etcd:2379"
#  replica:
#    build:
#      context: .
#      dockerfile: Dockerfile
#    networks:
#      - app-network
#    deploy:
#      replicas: 3
#    ports:
#      - "6050"
#    depends_on:
#      - etcd
#      - master
#    environment:
#      - MEMBER="master_dkvs"
#      - CLIENT_PORT=6050
#      - CLUSTER_PORT=6060
#      - ETCD_ADDR="etcd:2379"
#  netshoot:
#    image: nicolaka/netshoot
  etcd:
    container_name: etcd
    hostname: etcd
    image: bitnami/etcd
    environment:
      #ETCD_ENABLE_V2: 'true'
      ALLOW_NONE_AUTHENTICATION: 'yes'
      #ETCD_ADVERTISE_CLIENT_URLS: 'http://etcd:2379'
      #ETCD_LISTEN_CLIENT_URLS: 'http://0.0.0.0:2379'
    ports:
      - "2379:2379"
      - "2380:2380"
#    networks:
#      - app-network
#networks:
#  app-network: {}